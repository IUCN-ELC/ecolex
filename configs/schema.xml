<?xml version="1.0" encoding="UTF-8" ?>

<schema name="ecolex" version="1.1">
    <!-- The StrField type is not analyzed, but indexed/stored verbatim.
       - StrField and TextField support an optional compressThreshold which
       limits compression (if enabled in the derived fields) to values which
       exceed a certain size (in characters).
    -->
    <fieldType name="string" class="solr.StrField" sortMissingLast="true" omitNorms="true"/>
    <fieldType name="long" class="solr.TrieLongField" precisionStep="0" positionIncrementGap="0"/>
    <fieldType name="int" class="solr.TrieIntField" precisionStep="0" positionIncrementGap="0"/>
    <fieldType name="tdate" class="solr.TrieDateField" precisionStep="0" positionIncrementGap="0"/>
    <fieldType name="double" class="solr.TrieDoubleField" precisionStep="0" positionIncrementGap="0"/>
    <fieldType name="boolean" class="solr.BoolField" sortMissingLast="true"/>
    <fieldType name="text" class="solr.TextField" positionIncrementGap="100">
        <analyzer type="index">
          <tokenizer class="solr.StandardTokenizerFactory"/>
          <filter class="solr.StandardFilterFactory"/>
          <filter class="solr.LowerCaseFilterFactory"/>
          <!-- <filter class="solr.StopFilterFactory"/> -->
        </analyzer>
    </fieldType>
    <fieldType name="text_general" class="solr.TextField" positionIncrementGap="100">
      <analyzer type="index">
        <tokenizer class="solr.StandardTokenizerFactory"/>
        <filter class="solr.StopFilterFactory" ignoreCase="true" words="lang/stopwords_en.txt,lang/stopwords_es.txt,lang/stopwords_fr.txt" />
        <!-- in this example, we will only use synonyms at query time
        <filter class="solr.SynonymFilterFactory" synonyms="index_synonyms.txt" ignoreCase="true" expand="false"/>
        -->
        <filter class="solr.LowerCaseFilterFactory"/>
      </analyzer>
      <analyzer type="query">
        <tokenizer class="solr.StandardTokenizerFactory"/>
        <filter class="solr.StopFilterFactory" ignoreCase="true" words="lang/stopwords_en.txt,lang/stopwords_es.txt,lang/stopwords_fr.txt" />
        <filter class="solr.SynonymFilterFactory" synonyms="synonyms.txt" ignoreCase="true" expand="true"/>
        <filter class="solr.LowerCaseFilterFactory"/>
      </analyzer>
    </fieldType>

    <field name="_version_" type="long" indexed="true" stored="true"/>
    <field name="id" type="string" indexed="true" stored="true" required="true"/>
    <field name="type" type="string" indexed="true" stored="true" required="true"/>
    <field name="source" type="string" indexed="true" stored="true" required="true" default="informea"/>

    <field name="trElisId" type="string" indexed="true" stored="true" multiValued="false"/>
    <field name="trDateOfText" type="tdate" indexed="true" stored="true"/>
    <field name="trDateOfModification" type="tdate" indexed="true" stored="true"/>
    <field name="trDateOfEntry" type="tdate" indexed="true" stored="true"/>
    <field name="trEntryIntoForceDate" type="tdate" indexed="true" stored="true"/>
    <field name="trSearchDate" type="tdate" indexed="true" stored="true"/>
    <field name="trDateOfLastLegalAction" type="tdate" indexed="true" stored="true"/>
    
    <field name="trDisplayTitle" type="string" indexed="false" stored="true"/>
    <field name="trDisplayTitle_En_US" type="string" indexed="false" stored="true"/>
    <field name="trDisplayTitle_Sp_SP" type="string" indexed="false" stored="true"/>
    <field name="trDisplayTitle_Fr_FR" type="string" indexed="false" stored="true"/>
    
    <field name="trDisplayDetails" type="string" indexed="false" stored="true"/>
    
    <field name="trTitleOfText" type="text" indexed="true" stored="true" multiValued="true"/>
    <field name="trTitleAbbreviation" type="text" indexed="true" stored="true" multiValued="true"/>
    <field name="trTitleOfTextShort" type="text" indexed="true" stored="true" multiValued="true"/>
    <field name="trPaperTitleOfText" type="text" indexed="true" stored="true" multiValued="true"/>
    <field name="trPaperTitleOfTextSp" type="text" indexed="true" stored="true" multiValued="true"/>
    <field name="trPaperTitleOfTextFr" type="text" indexed="true" stored="true" multiValued="true"/>
    <field name="trPaperTitleOfTextOther" type="text" indexed="true" stored="true" multiValued="true"/>
    <field name="trPaperTitleOfTextStatement" type="text" indexed="true" stored="true" multiValued="true"/>
    
    <field name="trIntroText" type="text" indexed="true" stored="true" multiValued="true"/>
    <field name="trAbstract" type="text" indexed="true" stored="true" multiValued="true"/>
    <field name="trComment" type="text" indexed="true" stored="true" multiValued="true"/>
    
    <field name="trTypeOfText" type="text" indexed="true" stored="true" multiValued="true"/>
    
    <field name="trFieldOfApplication" type="string" indexed="true" stored="true" multiValued="true"/>
    
    <field name="trPlaceOfAdoption" type="text" indexed="true" stored="true" multiValued="true"/>
    
    <field name="trDepository" type="text" indexed="true" stored="true" multiValued="true"/>
    
    <field name="trSubject" type="string" indexed="true" stored="true" multiValued="true"/>
    
    <field name="trKeyword" type="string" indexed="true" stored="true" multiValued="true"/>
    
    <field name="trLanguageOfDocument" type="text" indexed="true" stored="true" multiValued="true"/>
    
    <field name="trSeatOfCourt" type="text" indexed="true" stored="true" multiValued="true"/>
    
    <field name="trCourtName" type="text" indexed="true" stored="true" multiValued="true"/>
    
    <field name="trJurisdiction" type="text" indexed="true" stored="true" multiValued="true"/>
    
    <field name="trPublisher" type="text" indexed="true" stored="false" multiValued="true"/>
    
    <field name="trConfName" type="text" indexed="true" stored="true" multiValued="true"/>
    
    <field name="trConfPlace" type="text" indexed="true" stored="true" multiValued="true"/>
    
    <field name="trContributor" type="text" indexed="false" stored="true" multiValued="true"/>
    <field name="trAuthorA" type="text" indexed="false" stored="true" multiValued="true"/>
    <field name="trAuthorM" type="text" indexed="false" stored="true" multiValued="true"/>
    <field name="trAuthor" type="text" indexed="true" stored="true" multiValued="true"/>
    <field name="trAuthorWhole" type="string" indexed="true" stored="true" multiValued="true"/>
    
    
    <field name="trLinkToFullText" type="string" indexed="false" stored="true" multiValued="true"/>
    <field name="trLinkToFullTextSp" type="string" indexed="false" stored="true" multiValued="true"/>
    <field name="trLinkToFullTextFr" type="string" indexed="false" stored="true" multiValued="true"/>
    <field name="trLinkToFullTextOther" type="string" indexed="false" stored="true" multiValued="true"/>
    <field name="trLinkToAbstract" type="string" indexed="false" stored="true" multiValued="true"/>
    <field name="trCountry" type="string" indexed="true" stored="true" multiValued="true"/>
    <field name="trRegion" type="text" indexed="true" stored="true" multiValued="true"/>
    <field name="trBasin" type="text" indexed="true" stored="true" multiValued="true"/>
    <field name="trScope" type="text" indexed="true" stored="true" multiValued="true"/>
    <field name="trIntoForceTreaty" type="string" indexed="true" stored="true" multiValued="true"/>
    <field name="trRelevantTextTreaty" type="string" indexed="true" stored="true" multiValued="true"/>

    <!-- Links -->
    <field name="trEnabledByTreaty" type="string" indexed="true" stored="true" multiValued="true"/>
    <field name="trAmendsTreaty" type="string" indexed="true" stored="true" multiValued="true"/>
    <field name="trSupersedesTreaty" type="string" indexed="true" stored="true" multiValued="true"/>
    <field name="trCitesTreaty" type="string" indexed="true" stored="true" multiValued="true"/>
    <!-- Backlinks-->
    <field name="trEnablesTreaty" type="string" indexed="true" stored="true" multiValued="true"/>
    <field name="trAmendedBy" type="string" indexed="true" stored="true" multiValued="true"/>
    <field name="trSupersededBy" type="string" indexed="true" stored="true" multiValued="true"/>
    <field name="trCitedBy" type="string" indexed="true" stored="true" multiValued="true"/>
        
    <field name="trReferenceToTreaties" type="string" indexed="true" stored="true" multiValued="true"/>
    <field name="trReferenceToLiterature" type="string" indexed="true" stored="true" multiValued="true"/>
    
    <field name="trObsolete" type="string" indexed="true" stored="false"/>
    
    <field name="trAvailableIn" type="string" indexed="true" stored="true" multiValued="true"/>
    <field name="trLanguageOfTranslation" type="string" indexed="true" stored="true" multiValued="true"/>
    <field name="trNumberOfPages" type="string" indexed="true" stored="true" multiValued="true"/>
    <field name="trOfficialPublication" type="string" indexed="true" stored="true" multiValued="true"/>
    <field name="trInternetReference" type="string" indexed="true" stored="true" multiValued="true"/>
    <field name="trDateOfConsolidation" type="tdate" indexed="true" stored="true" multiValued="true"/>
    
    <!-- Field that holds all searchable data -->
    <field name="globalText" type="text_general" indexed="true" stored="false" multiValued="true"/>
    <field name="text" type="text_general" indexed="true" stored="false" multiValued="true"/>
    
    <!-- Participant -->
    <field name="partyCountry" type="string" indexed="true" stored="true" multiValued="true"/>
    <field name="partyEntryIntoForce" type="tdate" indexed="true" stored="true" multiValued="true"/>
    <field name="partyDateOfRatification" type="tdate" indexed="true" stored="true" multiValued="true"/>
    <field name="partyDateOfAccessionApprobation" type="tdate" indexed="true" stored="true" multiValued="true"/>
    <field name="partyDateOfAcceptanceApproval" type="tdate" indexed="true" stored="true" multiValued="true"/>
    <field name="partyDateOfConsentToBeBound" type="tdate" indexed="true" stored="true" multiValued="true"/>
    <field name="partyDateOfSuccession" type="tdate" indexed="true" stored="true" multiValued="true"/>
    <field name="partyDateOfDefiniteSignature" type="tdate" indexed="true" stored="true" multiValued="true"/>
    <field name="partyDateOfSimpleSignature" type="tdate" indexed="true" stored="true" multiValued="true"/>
    <field name="partyDateOfProvisionalApplication" type="tdate" indexed="true" stored="true" multiValued="true"/>
    <field name="partyDateOfParticipation" type="tdate" indexed="true" stored="true" multiValued="true"/>
    <field name="partyDateOfDeclaration" type="tdate" indexed="true" stored="true" multiValued="true"/>
    <field name="partyDateOfReservation" type="tdate" indexed="true" stored="true" multiValued="true"/>
    <field name="partyDateOfWithdrawal" type="tdate" indexed="true" stored="true" multiValued="true"/>

    <!-- InforMEA Treaty extra fields -->
    <field name="trInformeaId" type="string" indexed="true" stored="true" multiValued="false"/>
    <field name="trParentId" type="int" indexed="true" stored="true" multiValued="false"/>
    <field name="trPrimary" type="text" indexed="true" stored="true" multiValued="true"/>
    <field name="trUrl" type="text" indexed="true" stored="true" multiValued="true"/>
    <field name="trUrlTreatyText" type="text" indexed="true" stored="true" multiValued="true"/>
    <field name="trUrlParties" type="text" indexed="true" stored="true" multiValued="true"/>
    <field name="trUrlWikipedia" type="text" indexed="true" stored="true" multiValued="true"/>
    <field name="trUrlElearning" type="text" indexed="true" stored="true" multiValued="true"/>
    <field name="trNumberOfParties" type="text" indexed="true" stored="true" multiValued="true"/>
    <field name="trThemeSecondary" type="text" indexed="true" stored="true" multiValued="true"/>
    <field name="trEnabled" type="string" indexed="true" stored="true" multiValued="false"/>
    <field name="trOrder" type="string" indexed="true" stored="true" multiValued="false"/>
    <field name="trIsProtocol" type="string" indexed="true" stored="true" multiValued="false"/>
    <field name="trLogoMedium" type="text" indexed="true" stored="true" multiValued="false"/>
    
    <!-- InforMEA Decision -->
    <field name="decId" type="int" indexed="true" stored="true" multiValued="false"/>
    <field name="decOriginalId" type="string" indexed="true" stored="true" multiValued="false"/>
    <field name="decOrganizationId" type="int" indexed="true" stored="true" multiValued="false"/>
    <field name="decLink" type="string" indexed="true" stored="true" multiValued="true"/>
    <field name="decShortTitle" type="text" indexed="true" stored="true" multiValued="true"/>
    <field name="decLongTitle" type="text" indexed="true" stored="true" multiValued="true"/>
    <field name="decKeyword" type="string" indexed="true" stored="true" multiValued="true"/>
    <field name="decSummary" type="text" indexed="true" stored="true" multiValued="true"/>
    <field name="decType" type="string" indexed="true" stored="true" multiValued="true"/>
    <field name="decStatus" type="string" indexed="true" stored="true" multiValued="true"/>
    <field name="decNumber" type="string" indexed="true" stored="true" multiValued="true"/>
    <field name="decTreatyId" type="string" indexed="true" stored="true" multiValued="true"/>
    <field name="decPublishDate" type="tdate" indexed="true" stored="true" multiValued="true"/>
    <field name="decUpdateDate" type="tdate" indexed="true" stored="true" multiValued="true"/>
    <field name="decMeetingId" type="int" indexed="true" stored="true" multiValued="true"/>
    <field name="decMeetingTitle" type="text" indexed="true" stored="true" multiValued="true"/>
    <field name="decMeetingUrl" type="string" indexed="true" stored="true" multiValued="true"/>
    <field name="decBody" type="text" indexed="true" stored="true" multiValued="true"/>
    <field name="decDisplayOrder" type="int" indexed="true" stored="true" multiValued="true"/>
    <field name="decRecCreated" type="string" indexed="true" stored="true" multiValued="true"/>
    <field name="decRecAuthor" type="text" indexed="true" stored="true" multiValued="true"/>
    <field name="decRedUpdated" type="string" indexed="true" stored="true" multiValued="true"/>
    <field name="decRecUpdatedAuthor" type="text" indexed="true" stored="true" multiValued="true"/>
    <field name="decIsIndexed" type="boolean" indexed="true" stored="true" multiValued="true"/>
    <field name="decDocUrls" type="text" indexed="true" stored="true" multiValued="true"/>
    
    <!-- Decision copyfields-->
    <field name="decTitleOfText" type="text" indexed="true" stored="true" multiValued="true"/>
    <field name="decText" type="text" indexed="true" stored="true" multiValued="true"/>
    
    <!-- InforMEA event -->
    <field name="evId" type="int" indexed="true" stored="true" multiValued="false"/>
    <field name="evOriginalId" type="string" indexed="true" stored="true" multiValued="true"/>
    <field name="evOrganizationId" type="int" indexed="true" stored="true" multiValued="true"/>
    <field name="evTreatyId" type="int" indexed="true" stored="true" multiValued="true"/>
    <field name="evEventUrl" type="text" indexed="true" stored="true" multiValued="true"/>
    <field name="evTitle" type="text" indexed="true" stored="true" multiValued="true"/>
    <field name="evAbbreviation" type="string" indexed="true" stored="true" multiValued="true"/>    
    <field name="evDescription" type="text" indexed="true" stored="true" multiValued="true"/>
    <field name="evStart" type="tdate" indexed="true" stored="true" multiValued="true"/>
    <field name="evEnd" type="tdate" indexed="true" stored="true" multiValued="true"/>
    <field name="evRepetition" type="text" indexed="true" stored="true" multiValued="true"/>
    <field name="evIdEventPrevious" type="int" indexed="true" stored="true" multiValued="true"/>
    <field name="evKind" type="string" indexed="true" stored="true" multiValued="true"/>
    <field name="evType" type="string" indexed="true" stored="true" multiValued="true"/>
    <field name="evAccess" type="string" indexed="true" stored="true" multiValued="true"/>
    <field name="evStatus" type="string" indexed="true" stored="true" multiValued="true"/>
    <field name="evImage" type="string" indexed="true" stored="true" multiValued="true"/>
    <field name="evImageCopyRight" type="string" indexed="true" stored="true" multiValued="true"/>
    <field name="evLocation" type="string" indexed="true" stored="true" multiValued="true"/>
    <field name="evCity" type="text" indexed="true" stored="true" multiValued="true"/>
    <field name="evCountryId" type="int" indexed="true" stored="true" multiValued="true"/>
    <field name="evLatitude" type="double" indexed="true" stored="true" multiValued="true"/>
    <field name="evLongitude" type="double" indexed="true" stored="true" multiValued="true"/>
    <field name="evPersonId" type="int" indexed="true" stored="true" multiValued="true"/>
    <field name="evUseInformea" type="boolean" indexed="true" stored="true" multiValued="true"/>
    <field name="evRecCreated" type="tdate" indexed="true" stored="true" multiValued="true"/>
    <field name="evRecAuthor" type="text" indexed="true" stored="true" multiValued="true"/>
    <field name="evRecUpdated" type="tdate" indexed="true" stored="true" multiValued="true"/>
    <field name="evRecUpdatedAuthor" type="text" indexed="true" stored="true" multiValued="true"/>
    <field name="evIsIndexed" type="boolean" indexed="true" stored="true" multiValued="true"/>
    
    <!-- Document text field -->
    <field name="doc_content" type="text_general" indexed="false" stored="true" multiValued="true"/>

    <!-- Keyword field -->
    <field name="docKeyword" type="string" indexed="true" stored="true" multiValued="true"/>
    <field name="docDate" type="tdate" indexed="true" stored="false" multiValued="false"/>

    <uniqueKey>id</uniqueKey>
    
    <copyField source="trAuthorA" dest="trAuthor"/>
    <copyField source="trAuthorM" dest="trAuthor"/>
    <copyField source="trContributor" dest="trAuthor"/>
    
    <copyField source="trTitleAbbreviation" dest="trTitleOfText"/>
    <copyField source="trTitleOfTextShort" dest="trTitleOfText"/>
    <copyField source="trPaperTitleOfText" dest="trTitleOfText"/>
    <copyField source="trPaperTitleOfTextSp" dest="trTitleOfText"/>
    <copyField source="trPaperTitleOfTextFr" dest="trTitleOfText"/>
    <copyField source="trPaperTitleOfTextOther" dest="trTitleOfText"/>
    <copyField source="trPaperTitleOfTextStatement" dest="trTitleOfText"/>
    
    <copyField source="trComment" dest="trIntroText"/>
    <copyField source="trAbstract" dest="trIntroText"/>
    
    <copyField source="decShortTitle" dest="decTitleOfText"/>
    <copyField source="decLongTitle" dest="decTitleOfText"/>
    
    <copyField source="decSummary" dest="decText"/>
    <copyField source="decBody" dest="decText"/>
    
    <copyField source="trKeyword" dest="docKeyword"/>
    <copyField source="decKeyword" dest="docKeyword"/>
    
    <copyField source="trDateOfText" dest="docDate"/>
    <copyField source="decPublishDate" dest="docDate"/>
    
    <!-- Full search field -->
    <copyField source="trTitleAbbreviation" dest="text"/>
    <copyField source="trTitleOfTextShort" dest="text"/>
    <copyField source="trPaperTitleOfText" dest="text"/>
    <copyField source="trPaperTitleOfTextSp" dest="text"/>
    <copyField source="trPaperTitleOfTextFr" dest="text"/>
    <copyField source="trPaperTitleOfTextOther" dest="text"/>
    <copyField source="trPaperTitleOfTextStatement" dest="text"/>
    
    <copyField source="trComment" dest="text"/>
    <copyField source="trAbstract" dest="text"/>
    
    <copyField source="decShortTitle" dest="text"/>
    <copyField source="decLongTitle" dest="text"/>
    <copyField source="decSummary" dest="text"/>
    <copyField source="decBody" dest="text"/>
    <copyField source="decKeyword" dest="text"/>
    
    <copyField source="trSubject" dest="text"/>
    <copyField source="trKeyword" dest="text"/>
    <copyField source="doc_content" dest="text"/>
    
</schema>

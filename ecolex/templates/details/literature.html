{% extends 'layout.html' %}
{% load tags %}

{% block content %}
{% informea_url_id document %}

<article class="record-details">

  <header>
    <div class="record-title">
      <div class="record-icon">
          <span class="icon icon-literature" title="COP Decision"></span>
      </div>
      <h1>{{ document.title }}</h1>
    </div>

    <dl>
      <dt>{{ document.type|capfirst }}</dt> <dd>{{ document.document_id|default:"-" }}</dd>
      <dt>Document type</dt> <dd>{{ document.type_of_document|capfirst }}</dd>
      <dt>Date of document</dt> <dd>{{ document.date }}</dd>
      <dt>Source</dt>
      <dd>{{ document.source }}</dd>
    </dl>
  </header>

  <section id="details">
    <h2 class="section-title">Details</h2>
    <dl>
      <dt>Authors</dt>
      <dd>{% for author in document.solr.litAuthor %}
            {{ author }}{%if not forloop.last%};{% endif %}
          {% endfor %}
      </dd>
      <dt>ISBN</dt>
      <dd>{{ document.solr.litISBN }}</dd>
      <dt>Volume</dt>
      <dd>{{ document.solr.litVolumeNo }}</dd>
      <dt>Publisher</dt>
      <dd>{{ document.solr.litPublisher }}</dd>
      <dt>Place of publication</dt>
      <dd>{{ document.solr.litPublPlace }}</dd>
      <dt>Pages</dt>
      <dd>{{ document.solr.litCollation }}</dd>
      <dt>Date of publication</dt>
      <dd>{{ document.solr.litDateOfText }}</dd>
      <dt>Series</dt>
      <dd>{{ document.solr.litSeriesFlag }}</dd>
      <dt>Language of document</dt>
      <dd>{{ document.solr.litLanguageOfDocument }}</dd>
      <dt>Country & Region</dt>
      <dd>{{ document.country }} - {{ document.solr.litDisplayRegion }}</dd>

      <dt>Subjects</dt>
      <dd>{% for subject in document.solr.litSubject %}
            {{ subject|safe }}
          {% endfor %}
      </dd>
      <dt>Keywords</dt>
      <dd>{% for keyword in document.solr.litKeyword %}
            <span class="tag">{{ keyword|capfirst }}</span>
          {% empty %}
            <span class="na">Not available</span>
          {% endfor %}
      </dd>
    </dl>
  </section>

  <section id="text">
    <h2 class="section-title">Text</h2>

    <dl>
      <dt>Abstract</dt>
      <dd>
        {% if document.abstract %}
          <p class="abstract">{{ document.abstract }}</p>
        {% else %}
          <p class="na">Not available</p>
        {% endif %}
      </dd>
      <dt>Link to full text</dt>
      <dd><a class="decision-link" href="{{ document.solr.litLinkToFullText }}" target="_blank">{{ document.solr.litLinkToFullText }}</a></dd>
      <dt>Available web site</dt>
      <dd><a class="decision-link" href="{{ document.solr.litRelatedWebSite }}">{{ document.solr.litRelatedWebSite }}</a></dd>
    </dl>
  </section>

  <section id="other-references">
    <h2 class="section-title">References to</h2>
    {% for doc_type, docs in references_to.items %}
      <dl>
        <dt>{{ doc_type|capfirst }}</dt>
        {% for doc in docs %}
          <dd><a href="{{ doc.details_url }}">{{ doc }}</a></dd>
        {% endfor %}
      </dl>
    {% empty %}
      <span class="na">No references</span>
    {% endfor %}

    <h2 class="section-title">References from</h2>
    {% for doc_type, docs in references_from.items %}
      <dl>
        <dt>{{ doc_type|capfirst }}</dt>
        {% for doc in docs %}
          <dd><a href="{{ doc.details_url }}">{{ doc }}</a></dd>
        {% endfor %}
      </dl>
    {% empty %}
      <span class="na">No references</span>
    {% endfor %}
  </section>

</article>
{% endblock content %}
